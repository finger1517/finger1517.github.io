{{- /* Inject KaTeX assets when math is enabled */ -}}
{{- $mathEnabled := or (and (isset .Site.Params "math") (index .Site.Params.math "enable")) (.Site.Params.math) -}}
{{- if $mathEnabled -}}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
          onload="renderMathInElement(document.body, {delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false}
          ]});"></script>
{{- end -}}

